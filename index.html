<!DOCTYPE html>
<html>
    <head>
        <title>
            Risk of Rain 2 Language file Editor
        </title>
        <!-- Because google isn't indexing this? -->
        <meta name="google-site-verification" content="hL0dJA3sewTEknEYd0JyJeghiZFZpSU2U62uGFdwwqI" />
        <link rel="stylesheet" href="ror2languageeditor.css">
    </head>
    <body>
        <header>
            <h1>Risk of Rain 2 Language File Editor</h1>
            <p>Simplifies editing files like Items.txt and Equipment.txt for custom item names and descriptions.</p>
            <p>Tip: An easy way to use full descriptions for item tooltips without a mod is to open your files and then immediately save them with "<b>Only use description</b>" - that will replace the tooltip with the log book description.</p>
            <p><i>Note: This is a self-contained web app - nothing is uploaded to any server.</i></p>
        </header>
        <main>
            <a href="https://github.com/Xuerian/RoR2LanguageEditor" class="github-corner" aria-label="View source on GitHub"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
            <fieldset class=load>
                <legend>
                    Load language files to edit
                </legend>
                <fieldset>
                    <legend>Base game language</legend>
                    <input type=file id=INPUT_FILE_BASE accept=.txt multiple>
                    <p>Located in <b><u>steamapps/common/Risk of Rain 2/Risk of Rain 2_Data/StreamingAssets/Language/en</u></b></p>
                    <p><b><u>Items.txt</u></b> and <b><u>Equipment.txt</u></b> are usually what you want to open</p>
                    <dl class=_pickup>
                        <dt>Tooltip text:</dt>
                        <dd><label><input type=radio name=_pickup value=normal> Keep</label></dd>
                        <dd><label><input type=radio name=_pickup value=copy> Copy description</label></dd>
                        <dd><label><input type=radio name=_pickup value=desc checked> Only use description</label></dd>
                    </dl>
                    <!-- <p>Can load merged files as well</p> -->
                </fieldset>
                <fieldset class="patch waiting">
                    <legend class="fade-before">Patch</legend>
                    <p class="doc hide-after">Base languages must be loaded before applying a patch</p>
                    <input class="hide-before" type=file id=INPUT_FILE_PATCH accept=".patch.language">
                    <p class="doc fade-before">A *.patch.language file generated by this tool</p>
                </fieldset>

                <fieldset class="merge waiting">
                    <legend class="fade-before">Merge language files</legend>
                    <p class="doc hide-after">Base languages must be loaded before merging</p>
                    <input class="hide-before" type=file id=INPUT_FILE_MERGE accept=".txt" multiple>
                    <p class="doc fade-before">You can merge modified language files after opening the base language.</p>
                    <dl class="_merge hide-before">
                        <dt>Overwrite:</dt>
                        <dd><label><input type=radio name=_merge value=all checked> All</label></dd>
                        <dd><label><input type=radio name=_merge value=default> Base values</label></dd>
                    </dl>
                </fieldset>
<!--
                <fieldset>
                    <legend>Replacements</legend>
                    <input type=file id=INPUT_FILE_REPLACEMENT accept=.r2lreplace.json multiple>
                </fieldset>
                <fieldset>
                    <legend>Convert Merged to Patches</legend>
                    <input type=file id=INPUT_FILE_REPLACEMENT accept=.txt multiple>
                    <p>Pre-existing modified language files can be loaded and parsed into patches automatically</p>
                </fieldset>
-->
            </fieldset>
            <button class=export>Save (.zip)</button>
            <p class=doc>Modified language .txt files will be in /patched. Replace your game language files with these to use your modifications.</p>
            <p class=doc>To load with R2API as a plugin, extract plugin/{folder} to BepInEx/Plugins/{folder}</p>
            <hr>
<!--
            <details class=replacements>
                <summary>Text replacements</summary>
                <template class=replacement>
                    <dt>Replace..... ...with</dt>
                    <dd>
                        <textarea class=replacement-search></textarea>
                        <textarea class=replacement-replace></textarea>
                    </dd>
                </template>
                <dl>

                </dl>
            </details>
-->
            <fieldset>
                <legend>
                    Filter
                </legend>
                <label>
                    By key
                    <input type=text id=INPUT_FILTER_KEY>
                </label>
                <label>
                    By value
                    <input type=text id=INPUT_FILTER_VALUE>
                </label>
                <label><input type=radio checked name=INPUT_FILTER_MODIFIED value="all"> Show all</label>
                <label><input type=radio name=INPUT_FILTER_MODIFIED value="modified"> Only modified</label>
                <label><input type=checkbox id=INPUT_SHOW_BASE checked> Show base value</label>
            </fieldset>
            <div class=palette>
                <span class=cIsHealth>cIsHealth</span>
                <span class=cIsDamage>cIsDamage</span>
                <span class=cIsHealing>cIsHealing</span>
                <span class=cIsUtility>cIsUtility</span>
                <span class=cIsVoid>cIsVoid</span>
                <span class=cStack>cStack</span>
                <span class=cWorldEvent>cWorldEvent</span>
                <span class=cArtifact>cArtifact</span>
                <span class=cUserSetting>cUserSetting</span>
                <span class=cDeath>cDeath</span>
                <span class=cSub>cSub</span>
                <span class=cMono>cMono</span>
                <span class=cShrine>cShrine</span>
                <span class=cEvent>cEvent</span>
            </div>
            <template class=file>
                <details class=lang-file open>
                    <summary>
                        <h2 class=file-name></h2>
                    </summary>
                    <section>

                    </section>
                </details>
            </template>
            <template class=file-pair>
                <div class=pair>
                    <div class=key></div><div class=base-name></div>
                    <div class=preview></div>
                    <div class=edit><input type=text class=edit-value></div>
                    <div class=base>
                        <div class=revert><button type=button><<</button></div>
                        <div>
                            <div class="preview base-preview"></div>
                            <div class=base-raw></div>
                        </div>
                    </div>
                </div>
            </template>
            <div id=OUTPUT>

            </div>
            <div id=TEST>
            </div>
        </main>
        <!-- FileSaver.js https://github.com/eligrey/FileSaver.js -->
        <script src="https://cdn.jsdelivr.net/g/filesaver.js"></script>
        <!-- JSZip https://stuk.github.io/jszip/ -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.3.0/jszip.min.js" integrity="sha256-J0jjrR5bYbE+saHyVcuvt2EIg5JAHN10VWyTHtVJV2E=" crossorigin="anonymous"></script>
        <!-- App script -->
        <script src="ror2languageeditor.js"></script>
    </body>
</html>
